{"version":3,"sources":["assets/img/logo.png","assets/img/logo_w.png","assets/img/load.gif","Game.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","socket","require","connect","secure","Game","ident","isPrivate","maxPoints","player1","username","IP","choice","deck","player2","player3","player4","team","T1P1","T1P2","T2P1","T2P2","isTeamSet","startDeck","pointsT1","pointsT2","rounds","currentPlayer","currentRound","this","emit","cb","on","game","Object","assign","player","cc","choices","filter","el","mostRecurring","value","title","arr","sort","a","b","v","length","pop","me","mate","adv1","adv2","lastBid","bids","forEach","bid","card","App","exact","path","component","Menu","ContreeMenu","ContreeStart","ContreeUsername","ContreePlay","Component","document","querySelector","classList","add","className","link","classTitle","text","React","props","state","private","handleInputChange","bind","handleSubmit","event","target","name","checked","parseInt","Math","round","setState","preventDefault","random","toString","substring","send","history","replace","onSubmit","type","onChange","min","step","match","params","cantContinue","handleLiveGame","handleCurrentPlayer","handleChange","populate","getCurrentPlayer","getElementById","style","display","action","toLowerCase","found","remove","addMate","id","disabled","undefined","getMate","chooseKing","chooseMate","setTeam","handleBid","handlePassBid","handleCard","onUpdate","setAttribute","logoWhite","console","log","JSON","parse","checkIfFull","textContent","place","selectedUser","myTeam","setChoice","ChoiceFlag","user","scene","choiceKingScene","choiceMatesScene","onClick","getPoints","myPoints","theirPoints","isBidOver","getLastBid","folds","currentFold","currentSpeaker","current","teamSpeaker","teamSpeakerBid","suit","asset","points","fold","handlePass","handleClick","cards","who","color","push","newBid","element","animationName","callback","node","addEventListener","handleAnimationEnd","removeEventListener","animateCSS","passBid","cardPlayedFrom","watingView","choiceView","gameView","Logo","href","src","logo","alt","Button","ChoiceButton","BackButton","InputShareLink","window","location","hostname","Player","Avatar","load","Card","BeautifyDeck","Deck","map","Teams","classNameMore","Bid","BidPoints","Colors","LastBid","LastBidMate","BeautifyFold","Fold","Boolean","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.08cf42c8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1b5a21f1.png\";","module.exports = __webpack_public_path__ + \"static/media/logo_w.8e3b541f.png\";","module.exports = __webpack_public_path__ + \"static/media/load.1748a6d6.gif\";","const io = require('socket.io-client');\nconst socketURL =\n    process.env.NODE_ENV === 'production'\n        ? 'http://192.168.1.11:4001'\n        : 'http://localhost:4001';\n\nconst socket = io.connect(socketURL, {secure: true});\n\nclass Game {\n    maxPoints;\n    isPrivate;\n    ident;\n    player1 = {\n        username: '',\n        IP: '',\n        choice: '',\n        deck: []\n    };\n    player2 = {\n        username: '',\n        IP: '',\n        choice: '',\n        deck: []\n    };\n    player3 = {\n        username: '',\n        IP: '',\n        choice: '',\n        deck: []\n    };\n    player4 = {\n        username: '',\n        IP: '',\n        choice: '',\n        deck: []\n    };\n    team = {\n        T1P1: '',\n        T1P2: '',\n        T2P1: '',\n        T2P2: ''\n    };\n    isTeamSet = false;\n    startDeck = [];\n    pointsT1 = 0;\n    pointsT2 = 0;\n    rounds = [];\n    currentPlayer = '';\n    currentRound = 0;\n\n    constructor(ident, isPrivate, maxPoints) {\n        this.ident = ident;\n        this.isPrivate = isPrivate;\n        this.maxPoints = maxPoints;\n    }\n    send(){\n        socket.emit('add-game', this );\n    }\n    populate(cb){\n        socket.emit('get-game', this.ident);\n        socket.on('update-game', (game) => cb(Object.assign(new Game(), game)));\n    }\n    onUpdate(cb){\n        socket.on('update-game', (game) => cb(Object.assign(new Game(), game)));\n    }\n    addMate(username){\n        socket.emit('add-mate', this.ident, username);\n    }\n    getCurrentPlayer(cb){\n        socket.emit('current-player', this.ident);\n        socket.on('current-player', (player) => cb(player) );\n    }\n    setChoice(cb, cc, choice, username){\n        socket.emit('set-choice', this.ident, username, choice);\n        socket.on('update-game', (game) => cb(Object.assign(new Game(), game)));\n        socket.on('current-player', (player) => cc(player) );\n    }\n    getChoice(){\n        const choices = [this.player1.choice, this.player2.choice, this.player3.choice, this.player4.choice].filter( (el) => { return el !== \"\"; });\n        const choice = this.mostRecurring(choices);\n        return ( choice === 'king')? {value: 'king', title: 'Tirage des rois'} : {value: 'mates', title: 'Choix de l\\'équipier'};\n    }\n    mostRecurring(arr){\n        return arr.sort((a,b) => arr.filter(v => v===a).length - arr.filter(v => v===b).length ).pop();\n    }\n    setTeam(me, mate, adv1, adv2){\n        this.team.T1P1 = me;\n        this.team.T1P2 = mate;\n        this.team.T2P1 = adv1;\n        this.team.T2P2 = adv2;\n        socket.emit('set-team', this.ident, this.team);\n    }\n    newBid(){\n        socket.emit('new-bid', this.ident, this.rounds);\n    }\n\n    getLastBid(username){\n        let lastBid = null;\n        this.rounds[this.currentRound].bids.forEach((bid) => {\n            if(bid.username === username){ lastBid = bid; }\n        });\n        return lastBid;\n    }\n    passBid(){\n        socket.emit('pass-bid', this.ident);\n    }\n    cardPlayed(player){\n        socket.emit('card-played', this.ident, player, this.rounds);\n    }\n    cardPlayedFrom(card, username){\n        socket.emit('card-played-from', this.ident, card, username);\n    }\n\n\n    static getGameByIdent(ident, cb) {\n        socket.emit('getGame', ident);\n        socket.on('game', (game) => cb(Object.assign(new Game(), game)) );\n    }\n}\nexport { Game };","import React, { Component } from 'react';\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport logo from './assets/img/logo.png';\nimport logoWhite from './assets/img/logo_w.png';\nimport load from './assets/img/load.gif';\nimport { Game } from './Game';\nimport './assets/css/App.css';\nimport './assets/css/FontAwesome.css';\nimport './assets/css/Animate.css';\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<BrowserRouter>\n\t\t\t\t<Route exact path=\"/\" component={Menu}/>\n\t\t\t\t<Route exact path=\"/Contree\" component={ContreeMenu}/>\n\t\t\t\t<Route exact path=\"/Contree/Start\" component={ContreeStart}/>\n\t\t\t\t<Route exact path=\"/Contree/Join/:ident\" component={ContreeUsername}/>\n\t\t\t\t<Route exact path=\"/Contree/Play/:ident\" component={ContreePlay}/>\n\t\t\t</BrowserRouter>\n\t\t);\n\t}\n}\n\nclass Menu extends React.Component {\n\tcomponentDidMount() {\n\t\tdocument.querySelector('html').classList.add(\"white_bg\");\n\t}\n\trender()  {\n\t\treturn (\n\t\t\t<div className=\"box menu\">\n\t\t\t\t<Logo />\n\t\t\t\t<Button link=\"/Contree\" classTitle=\"game\" text=\"Contrée\" />\n\t\t\t\t{/* <Button link=\"/Belote\" classTitle=\"game\" text=\"Belote\" /> */}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass ContreeMenu extends React.Component {\n\tcomponentDidMount() {\n\t\tdocument.querySelector('html').classList.add(\"white_bg\");\n\t}\n\n\trender()  {\n\t\treturn (\n\t\t\t<div className=\"box contree\">\n\t\t\t\t<Logo />\n\t\t\t\t<h2>Contrée</h2>\n\t\t\t\t<div className=\"sep\"/>\n\t\t\t\t<BackButton link=\"/\"/>\n\t\t\t\t<Button link=\"/Contree/Start\" classTitle=\"create\" text=\"Créer une partie\" />\n\t\t\t\t<Button link=\"/Contree/Join\" classTitle=\"join\" text=\"Rejoindre une partie\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\nclass ContreeStart extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {private: true, maxPoints: 400};\n\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tdocument.title = \"Contrée - Création\";\n\t\tdocument.querySelector('html').classList.add(\"white_bg\");\n\t}\n\n\thandleInputChange(event) {\n\t\tconst target = event.target;\n\t\tlet tmp;\n\t\tif(target.name === 'private' && target.checked){\n\t\t\ttmp = 1;\n\t\t} else if(target.name === 'private' && !target.checked){\n\t\t\ttmp = 0;\n\t\t} else {\n\t\t\ttmp = parseInt(Math.round(target.value / 50) * 50);\n\t\t}\n\t\tconst value = tmp;\n\t\tconst name = target.name;\n\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n\t}\n\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tif(this.state.maxPoints >= 400){\n\t\t\tlet ident = Math.random().toString(36).substring(2, 10);\n\t\t\tconst game = new Game(ident, this.state.private, this.state.maxPoints);\n\t\t\tgame.send();\n\t\t\tthis.props.history.replace('/Contree/Join/'+game.ident);\n\t\t}\n\t}\n\trender()  {\n\t\treturn (\n\t\t\t<div className=\"box contree start\">\n\t\t\t\t<Logo />\n\t\t\t\t<h2>Contrée</h2>\n\t\t\t\t<div className=\"sep\"/>\n\t\t\t\t<BackButton link=\"/Contree\"/>\n\t\t\t\t<h3>Création de la partie</h3>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tPartie privée\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname=\"private\"\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={this.state.private}\n\t\t\t\t\t\t\tonChange={this.handleInputChange} />\n\t\t\t\t\t</label>\n\t\t\t\t\t<div className=\"private\">Si cette case est cochée, seuls les joueurs disposant du lien pourront rejoindre cette partie.</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<label>\n\t\t\t\t\t\tNombre max de points à atteindre\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname=\"maxPoints\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"400\"\n\t\t\t\t\t\t\tstep=\"50\"\n\t\t\t\t\t\t\tvalue={this.state.maxPoints}\n\t\t\t\t\t\t\tonChange={this.handleInputChange} />\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type=\"submit\" className=\"button\" value=\"Créer\" />\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass ContreeUsername extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tident: this.props.match.params.ident,\n\t\t\tgame: new Game(this.props.match.params.ident, null, null),\n\t\t\tusername: \"\",\n\t\t\tcurrentPlayer: null,\n\t\t\tcantContinue: true\n\t\t};\n\n\t\tthis.handleLiveGame = this.handleLiveGame.bind(this);\n\t\tthis.handleCurrentPlayer = this.handleCurrentPlayer.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tdocument.title = \"Contrée - Partie #\"+this.state.game.ident;\n\t\tdocument.querySelector('html').classList.add(\"white_bg\");\n\t\tthis.state.game.populate( this.handleLiveGame );\n\t\tthis.state.game.getCurrentPlayer(this.handleCurrentPlayer);\n\t}\n\thandleLiveGame(game){\n\t\tthis.setState((state) => ({game: Object.assign(state.game, game)}) );\n\t\tif(this.state.game.player1 && this.state.game.player1.username && this.state.game.player2 && this.state.game.player2.username && this.state.game.player3 && this.state.game.player3.username && this.state.game.player4 && this.state.game.player4.username){\n\t\t\tdocument.getElementById('buttonCapacity').classList.add('show');\n\t\t\tdocument.getElementById('form').style.display = 'none';\n\t\t\tdocument.querySelector('h3').style.display = 'none';\n\t\t}\n\t\tif(this.state.game.ident !== this.state.ident) this.props.history.replace('/Contree');\n\t}\n\n\thandleCurrentPlayer(player){\n\t\tif(player !== null && this.props.history.action === 'POP') this.props.history.replace('/Contree/Play/'+this.state.game.ident);\n\t}\n\n\thandleChange(event) {\n\t\tconst target = event.target;\n\t\tconst value = target.value.replace(/\\s/g, '').toLowerCase();\n\n\t\tthis.setState({ username: value });\n\t\tlet found = false;\n\t\tif( (this.state.game.player1 && this.state.game.player1.username === value) ||\n\t\t\t(this.state.game.player2 && this.state.game.player2.username === value) ||\n\t\t\t(this.state.game.player3 && this.state.game.player3.username === value) ||\n\t\t\t(this.state.game.player4 && this.state.game.player4.username === value) ){\n\t\t\tfound = true;\n\t\t}\n\t\tif(found){\n\t\t\tdocument.getElementById('used').classList.add('show');\n\t\t\tthis.setState({ cantContinue: true });\n\t\t} else if(value.length < 5){\n\t\t\tdocument.getElementById('used').classList.remove('show');\n\t\t\tthis.setState({ cantContinue: true });\n\t\t} else{\n\t\t\tdocument.getElementById('used').classList.remove('show');\n\t\t\tthis.setState({ cantContinue: false });\n\t\t}\n\t}\n\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tthis.state.game.addMate(this.state.username);\n\t\tthis.props.history.replace('/Contree/Play/'+this.state.ident);\n\t}\n\n\trender()  {\n\t\treturn (\n\t\t\t<div className=\"box contree username\">\n\t\t\t\t<Logo />\n\t\t\t\t<h2>Contrée</h2>\n\t\t\t\t<div className=\"sep\"/>\n\t\t\t\t<h3>Joindre la partie #{this.state.ident}</h3>\n\t\t\t\t<div className=\"sep\"/>\n\t\t\t\t<h3>Nom d'utilisateur</h3>\n\t\t\t\t<form id=\"form\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<input type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleChange} />\n\t\t\t\t\t<div id=\"used\"><span>{this.state.username}</span> est déjà utilisé</div>\n\t\t\t\t\t<input type=\"submit\" id=\"buttonStart\" className=\"button\" value=\"Commencer\" disabled={this.state.cantContinue} />\n\t\t\t\t</form>\n\t\t\t\t<span id=\"buttonCapacity\">\n\t\t\t\t<BackButton link=\"/Contree\"/>\n\t\t\t\t<div className=\"button start\">Cette partie est déjà pleine, vous ne pouvez pas la rejoindre</div>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass ContreePlay extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tident: this.props.match.params.ident,\n\t\t\tgame: new Game(this.props.match.params.ident, null, null),\n\t\t\tcurrentPlayer: undefined\n\t\t};\n\t\tthis.handleLiveGame = this.handleLiveGame.bind(this);\n\t\tthis.handleCurrentPlayer = this.handleCurrentPlayer.bind(this);\n\t\tthis.getMate = this.getMate.bind(this);\n\t\tthis.chooseKing = this.chooseKing.bind(this);\n\t\tthis.chooseMate = this.chooseMate.bind(this);\n\t\tthis.setTeam = this.setTeam.bind(this);\n\t\tthis.handleBid = this.handleBid.bind(this);\n\t\tthis.handlePassBid = this.handlePassBid.bind(this);\n\t\tthis.handleCard = this.handleCard.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tthis.state.game.populate(this.handleLiveGame);\n\t\tthis.state.game.onUpdate(this.handleLiveGame);\n\t\tthis.state.game.getCurrentPlayer(this.handleCurrentPlayer);\n\t\tdocument.title = \"Contrée - Partie #\"+this.state.game.ident;\n\t\tdocument.querySelector('html').classList.remove(\"white_bg\");\n\t\tdocument.querySelector('html').classList.add(\"black_bg\");\n\t\tdocument.querySelector('.logo img').setAttribute(\"src\", logoWhite);\n\t}\n\thandleLiveGame(game){\n\t\tconsole.log(game);\n\t\tif(game.ident === this.state.ident) {\n\t\t\tgame.team = JSON.parse(game.team);\n\t\t\tgame.isTeamSet = JSON.parse(game.isTeamSet);\n\t\t\tgame.player1 = JSON.parse(game.player1);\n\t\t\tgame.player2 = JSON.parse(game.player2);\n\t\t\tgame.player3 = JSON.parse(game.player3);\n\t\t\tgame.player4 = JSON.parse(game.player4);\n\t\t\tgame.startDeck = JSON.parse(game.startDeck);\n\t\t\tgame.rounds = JSON.parse(game.rounds);\n\t\t\tthis.setState((state) => ({game: Object.assign(state.game, game)}));\n\t\t}\n\t\tif (this.state.game.ident !== this.state.ident) this.props.history.replace('/Contree');\n\t}\n\thandleCurrentPlayer(player){\n\t\tthis.setState((state, props) => ({ currentPlayer: player }));\n\t\tthis.checkIfFull();\n\t\tif(this.state.currentPlayer === null && this.props.history.action === 'POP') this.props.history.replace('/Contree/Join/'+this.state.game.ident);\n\t}\n\tcheckIfFull(){\n\t\tif(this.state.game.player1 && this.state.game.player2 && this.state.game.player3 && this.state.game.player4 && !this.state.game.isTeamSet){\n\t\t\tif(document.querySelector('#wait h2')) document.querySelector('#wait h2').textContent = 'Choix des équipes';\n\t\t\tif(!this.state.currentPlayer.choice && document.querySelector('#choice'))  document.querySelector('#choice').style.display = 'block';\n\t\t}\n\t}\n\tgetMate(place){\n\t\tif(this.state.currentPlayer !== null && this.state.currentPlayer !== undefined && place === 'me'){\n\t\t\treturn( this.player(this.state.currentPlayer.username) );\n\t\t}\n\t\tif(this.state.currentPlayer !== null && this.state.currentPlayer !== undefined){\n\t\t\tlet selectedUser;\n\t\t\tlet myTeam = 0;\n\t\t\tconst username = this.state.currentPlayer.username;\n\t\t\tif(this.state.game.team.T1P1 && this.state.game.team.T1P1 === username){\n\t\t\t\tmyTeam = 1;\n\t\t\t\tselectedUser = this.state.game.team.T1P2;\n\t\t\t} else if(this.state.game.team.T1P2 && this.state.game.team.T1P2 === username){\n\t\t\t\tmyTeam = 1;\n\t\t\t\tselectedUser = this.state.game.team.T1P1;\n\t\t\t} else if(this.state.game.team.T2P1 && this.state.game.team.T2P1 === username){\n\t\t\t\tmyTeam = 2;\n\t\t\t\tselectedUser = this.state.game.team.T2P2;\n\t\t\t} else if(this.state.game.team.T2P2 && this.state.game.team.T2P2 === username){\n\t\t\t\tmyTeam = 2;\n\t\t\t\tselectedUser = this.state.game.team.T2P1;\n\t\t\t}\n\t\t\tif(selectedUser && place === 'mate'){\n\t\t\t\treturn this.player(selectedUser);\n\t\t\t}\n\t\t\tif(myTeam !== 2 && (place === 'first' || place === 'second') ){\n\t\t\t\tif(this.state.game.team.T2P1 && this.state.game.team.T2P1 !== username && place === 'first') return this.player(this.state.game.team.T2P1);\n\t\t\t\tif(this.state.game.team.T2P2 && this.state.game.team.T2P2 !== username && place === 'second') return this.player(this.state.game.team.T2P2);\n\t\t\t} else if(myTeam !== 1 && (place === 'first' || place === 'second') ){\n\t\t\t\tif(this.state.game.team.T1P1 && this.state.game.team.T1P1 !== username && place === 'first') return this.player(this.state.game.team.T1P1);\n\t\t\t\tif(this.state.game.team.T1P2 && this.state.game.team.T1P2 !== username && place === 'second') return this.player(this.state.game.team.T1P2);\n\t\t\t}\n\t\t}\n\t\treturn( {username: \"\", IP: null, choice: null} );\n\t}\n\n\tplayer(username){\n\t\tif(this.state.game.player1 && this.state.game.player1.username === username){\n\t\t\treturn this.state.game.player1;\n\t\t} else if(this.state.game.player2 && this.state.game.player2.username === username){\n\t\t\treturn this.state.game.player2;\n\t\t} else if(this.state.game.player3 && this.state.game.player3.username === username){\n\t\t\treturn this.state.game.player3;\n\t\t} else if(this.state.game.player4 && this.state.game.player4.username === username){\n\t\t\treturn this.state.game.player4;\n\t\t}\n\t}\n\n\tchooseKing(){\n\t\tthis.state.game.setChoice(this.handleLiveGame, this.handleCurrentPlayer, 'king', this.state.currentPlayer.username);\n\t\tdocument.querySelector('#choices').remove();\n\t}\n\tchooseMate(){\n\t\tthis.state.game.setChoice(this.handleLiveGame, this.handleCurrentPlayer, 'mates', this.state.currentPlayer.username);\n\t\tdocument.querySelector('#choices').remove();\n\t}\n\twatingView(){\n\t\tif( (this.state.game.player1 && this.state.game.player1.choice && this.state.game.player2 && this.state.game.player2.choice && this.state.game.player3 && this.state.game.player3.choice && this.state.game.player4 && this.state.game.player4.choice) || this.state.game.isTeamSet ) return '';\n\t\tconst me = this.getMate('me');\n\t\tconst mate = this.getMate('mate');\n\t\tconst adv1 = this.getMate('first');\n\t\tconst adv2 = this.getMate('second');\n\t\tlet choices = null;\n\t\tlet title = \"En attente de tous les joueurs ...\";\n\t\tif( me && !me.choice && mate.IP && adv1.IP && adv2.IP) {\n\t\t\tchoices = <div id=\"choices\"><ChoiceButton classTitle=\"first\" event={this.chooseKing} text=\"Tirer les rois\"/><ChoiceButton classTitle=\"\" event={this.chooseMate} text=\"Choisir son équipier\"/></div>;\n\t\t\ttitle = \"Choix d'attribution des équipes\";\n\t\t}\n\t\tif(me) {\n\t\t\treturn (\n\t\t\t\t<div id=\"wait\">\n\t\t\t\t\t<h2>{title}</h2>\n\t\t\t\t\t<div className=\"players\">\n\t\t\t\t\t\t<div className=\"player\">\n\t\t\t\t\t\t\t<div className=\"avatar\"><Avatar username={me.username}/></div>\n\t\t\t\t\t\t\t<p>Joueur 1 (moi)</p>\n\t\t\t\t\t\t\t<p className=\"username\">{me.username}</p>\n\t\t\t\t\t\t\t<ChoiceFlag user={me}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"player\">\n\t\t\t\t\t\t\t<div className=\"avatar\"><Avatar username={mate.username}/></div>\n\t\t\t\t\t\t\t<p>Joueur 2</p>\n\t\t\t\t\t\t\t<p className=\"username\">{mate.username}</p>\n\t\t\t\t\t\t\t<ChoiceFlag user={mate}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"player\">\n\t\t\t\t\t\t\t<div className=\"avatar\"><Avatar username={adv1.username}/></div>\n\t\t\t\t\t\t\t<p>Joueur 3</p>\n\t\t\t\t\t\t\t<p className=\"username\">{adv1.username}</p>\n\t\t\t\t\t\t\t<ChoiceFlag user={adv1}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"player\">\n\t\t\t\t\t\t\t<div className=\"avatar\"><Avatar username={adv2.username}/></div>\n\t\t\t\t\t\t\t<p>Joueur 4</p>\n\t\t\t\t\t\t\t<p className=\"username\">{adv2.username}</p>\n\t\t\t\t\t\t\t<ChoiceFlag user={adv2}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{choices}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\tchoiceView(){\n\t\tif(this.state.game.player1 && this.state.game.player1.choice && this.state.game.player2 && this.state.game.player2.choice && this.state.game.player3 && this.state.game.player3.choice && this.state.game.player4 && this.state.game.player4.choice && !this.state.game.isTeamSet){\n\t\t\tconst choice = {value: 'mates', title: 'Séléctionnez votre équipier'}; //{value: 'king', title: 'king'}; //this.state.game.getChoice();\n\t\t\tconst me = this.getMate('me');\n\t\t\tconst mate = this.getMate('mate');\n\t\t\tconst adv1 = this.getMate('first');\n\t\t\tconst adv2 = this.getMate('second');\n\t\t\tlet scene;\n\t\t\tif(choice.value === 'king') scene = this.choiceKingScene(me, mate, adv1, adv2);\n\t\t\tif(choice.value === 'mates') scene = this.choiceMatesScene(me, mate, adv1, adv2);\n\t\t\treturn(\n\t\t\t\t<div id=\"choice\">\n\t\t\t\t\t<h2>{choice.title}</h2>\n\t\t\t\t\t{scene}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else return '';\n\t}\n\n\tchoiceKingScene(me, mate, adv1, adv2){\n\t\treturn (\n\t\t\t<div id=\"king_scene\">\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td className=\"box_player\">\n\t\t\t\t\t\t\t<div className=\"players\">\n\t\t\t\t\t\t\t\t<p>Équipe 1</p>\n\t\t\t\t\t\t\t\t<Player user={me} />\n\t\t\t\t\t\t\t\t<Player user={mate} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td className=\"box_player\">\n\t\t\t\t\t\t\t<div className=\"players\">\n\t\t\t\t\t\t\t\t<p>Équipe 2</p>\n\t\t\t\t\t\t\t\t<Player user={adv1} />\n\t\t\t\t\t\t\t\t<Player user={adv2} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tsetTeam(me, mate, adv1, adv2){\n\t\tthis.state.game.setTeam(me, mate, adv1, adv2);\n\t}\n\tchoiceMatesScene(me, mate, adv1, adv2){\n\t\treturn(\n\t\t\t<div id=\"mates_scene\">\n\t\t\t\t<div className=\"players\">\n\t\t\t\t\t<button onClick={() => {this.setTeam(me.username, mate.username, adv1.username, adv2.username)}}>\n\t\t\t\t\t\t<Player user={mate} />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button onClick={() => {this.setTeam(me.username, adv1.username, mate.username, adv2.username)}}>\n\t\t\t\t\t\t<Player user={adv1} />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button onClick={() => {this.setTeam(me.username, adv2.username, adv1.username, mate.username)}}>\n\t\t\t\t\t\t<Player user={adv2} />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\tgameView(){\n\t\tif( !this.state.game.player1 || !this.state.game.player2 || !this.state.game.player3 || !this.state.game.player4 || !this.state.game.isTeamSet ) return '';\n\t\tconst me = this.getMate('me');\n\t\tconst mate = this.getMate('mate');\n\t\tconst adv1 = this.getMate('first');\n\t\tconst adv2 = this.getMate('second');\n\t\tconst [myPoints, theirPoints] = this.getPoints('mine', me.username);\n\t\tif(!this.state.game.rounds[this.state.game.currentRound].isBidOver){\n\t\t\tme.lastBid = this.state.game.getLastBid(me.username);\n\t\t\tmate.lastBid = this.state.game.getLastBid(mate.username);\n\t\t\tadv1.lastBid = this.state.game.getLastBid(adv1.username);\n\t\t\tadv2.lastBid = this.state.game.getLastBid(adv2.username);\n\t\t}\n\t\tconsole.log(this.state.game.rounds[this.state.game.currentRound].folds[this.state.game.rounds[this.state.game.currentRound].currentFold]);\n\t\treturn(\n\t\t\t<div id=\"game_view\" className={(this.state.game.rounds[this.state.game.currentRound].currentSpeaker === me.username && !this.state.game.rounds[this.state.game.currentRound].isBidOver)? 'me_bid': (this.state.game.rounds[this.state.game.currentRound].currentSpeaker === me.username && this.state.game.rounds[this.state.game.currentRound].isBidOver)? 'me_round': ''}>\n\t\t\t\t<Teams me={me.username} mate={mate.username} adv1={adv1.username} adv2={adv2.username} myPoints={myPoints} theirPoints={theirPoints} current={this.state.game.currentPlayer} teamSpeaker={this.state.game.rounds[this.state.game.currentRound].teamSpeaker} teamSpeakerBid={{suit: this.state.game.rounds[this.state.game.currentRound].asset.suit, points: this.state.game.rounds[this.state.game.currentRound].asset.points}}/>\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td />\n\t\t\t\t\t\t<td className={(this.state.game.rounds[this.state.game.currentRound].currentSpeaker === mate.username)? 'current': ''}><Player user={mate} />{(mate.lastBid)? <LastBidMate bid={mate.lastBid} />: ''}</td>\n\t\t\t\t\t\t<td />\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td className={(this.state.game.rounds[this.state.game.currentRound].currentSpeaker === adv1.username)? 'current': ''}>{(adv1.lastBid)? <LastBid bid={adv1.lastBid} />: ''}<Player user={adv1} /></td>\n\t\t\t\t\t\t<td className=\"center\">{(!this.state.game.rounds[this.state.game.currentRound].isBidOver)? <h2 className=\"fake_card\">Choix de l'atout</h2> : <BeautifyFold fold={this.state.game.rounds[this.state.game.currentRound].folds[this.state.game.rounds[this.state.game.currentRound].currentFold]} />}</td>\n\t\t\t\t\t\t<td className={(this.state.game.rounds[this.state.game.currentRound].currentSpeaker === adv2.username)? 'current': ''}>{(adv2.lastBid)? <LastBid bid={adv2.lastBid} />: ''}<Player user={adv2} /></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t{(!this.state.game.rounds[this.state.game.currentRound].isBidOver && this.state.game.rounds[this.state.game.currentRound].currentSpeaker === me.username)? <Bid min={(this.state.game.rounds[this.state.game.currentRound].bids.length > 0)? this.state.game.rounds[this.state.game.currentRound].bids[this.state.game.rounds[this.state.game.currentRound].bids.length-1].points : 70} handleBid={this.handleBid} handlePass={this.handlePassBid} /> : ''}\n\t\t\t\t{(me.lastBid)? <LastBid bid={me.lastBid} />: ''}\n\t\t\t\t<BeautifyDeck handleClick={this.handleCard} cards={me.deck} />\n\t\t\t</div>\n\t\t);\n\t}\n\tgetPoints(who, me){\n\t\tif(who === 'mine'){\n\t\t\tif(me === this.state.game.team.T1P1 || me === this.state.game.team.T1P2){\n\t\t\t\treturn [this.state.game.pointsT1, this.state.game.pointsT2];\n\t\t\t} else {\n\t\t\t\treturn [this.state.game.pointsT2, this.state.game.pointsT1];\n\t\t\t}\n\t\t}\n\t\treturn [0, 0];\n\t}\n\thandleBid(points){\n\t\tconst color = document.querySelector('.bid .colors input[name=color]:checked');\n\t\tif(color && this.state.game.rounds[this.state.game.currentRound].currentSpeaker === this.state.currentPlayer.username){\n\t\t\tthis.state.game.rounds[this.state.game.currentRound].bids.push({points: points, suit: color.value, username: this.state.currentPlayer.username});\n\t\t\tthis.state.game.newBid();\n\t\t\tconsole.log(points, color.value);\n\t\t\tdocument.querySelector('.me_bid').classList.remove('me_bid');\n\t\t\tanimateCSS('.bid', 'fadeOutDown', function() { document.querySelector('.bid').remove(); });\n\t\t}\n\t}\n\thandlePassBid(){\n\t\tif(this.state.game.rounds[this.state.game.currentRound].currentSpeaker === this.state.currentPlayer.username){\n\t\t\tthis.state.game.passBid();\n\t\t}\n\t}\n\thandleCard(card){\n\t\tthis.state.game.cardPlayedFrom(card, this.state.currentPlayer.username);\n\t}\n\trender()  {\n\t\tconsole.log('JEU', this.state.game);\n\t\treturn (\n\t\t\t<div className=\"box contree play\">\n\t\t\t\t<Logo />\n\t\t\t\t<h2>Contrée - Partie #{this.state.game.ident}</h2>\n\t\t\t\t<div className=\"sep\"/>\n\t\t\t\t<BackButton link=\"/Contree/Join\"/>\n\t\t\t\t<InputShareLink link={`/Contree/Join/${this.state.game.ident}`} />\n\t\t\t\t{this.watingView()}\n\t\t\t\t{this.choiceView()}\n\t\t\t\t{this.gameView()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst Logo = () => <div className=\"logo\"><div><a href=\"/\"><img src={logo} alt=\"logo\"/></a></div></div>;\n\nconst Button = ({ link, classTitle, text }) => <a href={link}><div className={`button ${classTitle}`}>{text}</div></a>;\n\nconst ChoiceButton = ({ classTitle, event, text }) => <button onClick={event} className={`button choice ${classTitle}`}>{text}</button>;\n\nconst BackButton = ({ link }) => <a href={link} className=\"back\"><div><i className=\"fas fa-arrow-circle-left\" /> Retour</div></a>;\n\nconst InputShareLink = ({ link }) => <div className=\"shareInput\">Inviter <i className=\"fas fa-share-square\" /> <input type=\"text\" value={`http://`+window.location.hostname+`${link}`} disabled/></div>;\n\nconst Player = ({user}) => <div className=\"player\"><div className=\"avatar\"><Avatar username={user.username}/></div><p className=\"username\">{user.username}</p></div>;\n\nconst Avatar = ({username}) => (username)? <img alt={`Avatar de ${username}`} src={`https://api.adorable.io/avatars/285/${username}`} /> : <img className=\"load\" alt=\"En attente\" src={load} />;\n\nconst Card = ({handleClick, card}) => (card)? <button onClick={() => handleClick(card)} className={`card ${card.suit}`}><div className=\"topValue\">{card.value}</div><div className=\"bottomValue\">{card.value}</div></button> : '';\n\nconst BeautifyDeck = ({handleClick, cards}) => (cards)? <ul className=\"deck\"><Deck handleClick={handleClick} cards={cards} /></ul> : null;\n\nconst Deck = ({handleClick, cards}) => cards.map((card) => <li><Card handleClick={handleClick} card={card} /></li> );\n\nconst Teams = ({me, mate, adv1, adv2, myPoints, theirPoints, current, teamSpeaker, teamSpeakerBid}) => <div className=\"teams\"><div className=\"team\">{me} - {mate} <span>{myPoints}</span></div><div className=\"team\">{adv1} - {adv2}<span>{theirPoints}</span></div>{(teamSpeaker > 0)?<LastBidMate bid={teamSpeakerBid} classNameMore={`T${teamSpeaker}`} />: ''}</div>;\n\nconst Bid = ({min, handleBid, handlePass}) => <div className=\"bid\"><h2>À votre tour de parler</h2><Colors /><div className=\"points\"><BidPoints min={min} handleBid={handleBid} /><button className=\"pass\" onClick={handlePass}>Passer</button></div></div>;\n\nconst BidPoints = ({min, handleBid}) => [80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180].map((points) => (points > min)? <button onClick={() => handleBid(points)}>{points}</button> : '' );\n\nconst Colors = () => <div className=\"colors\"><label><input type=\"radio\" name=\"color\" value=\"trefle\" /><div className=\"trefle\" /></label><label><input type=\"radio\"  name=\"color\" value=\"pique\" /><div className=\"pique\" /></label><label><input type=\"radio\" name=\"color\" value=\"carreau\" /><div className=\"carreau\" /></label><label><input type=\"radio\" name=\"color\" value=\"coeur\" /><div className=\"coeur\" /></label></div>\n\nconst LastBid = ({bid}) => <div className={`lastBid ${bid.suit} fadeInUp animated`}>{bid.points}</div>;\n\nconst LastBidMate = ({bid, classNameMore}) => <div className={`lastBid ${bid.suit} mate ${classNameMore} fadeInDown animated`}>{bid.points}</div>;\n\nconst BeautifyFold = ({fold}) => (fold.length > 0)? <div className=\"fold\"><ul><Fold cards={fold}/></ul></div>: <div className=\"fake_card\" />;\n\nconst Fold = ({cards}) => cards.map((card) => <li><Card handleClick={null} card={card.card} /></li> );\n\n\n/**\n * @return {null}\n */\nfunction ChoiceFlag({user}){\n\tif(user.choice === 'king') return <div className=\"choose\">Veut tirer les rois</div>;\n\telse if(user.choice === 'mates') return <div className=\"choose\">Veut chosir</div>;\n\treturn null;\n}\n\nfunction animateCSS(element, animationName, callback) {\n\tconst node = document.querySelector(element);\n\tnode.classList.add('animated', animationName);\n\tfunction handleAnimationEnd() {\n\t\tnode.classList.remove('animated', animationName);\n\t\tnode.removeEventListener('animationend', handleAnimationEnd);\n\t\tif (typeof callback === 'function') callback();\n\t}\n\tnode.addEventListener('animationend', handleAnimationEnd);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}