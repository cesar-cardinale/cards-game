(this["webpackJsonpcards-game"]=this["webpackJsonpcards-game"]||[]).push([[0],{45:function(e,t,a){e.exports=a.p+"static/media/logo.1b5a21f1.png"},46:function(e,t,a){e.exports=a.p+"static/media/logo_w.8e3b541f.png"},47:function(e,t,a){e.exports=a.p+"static/media/load.1748a6d6.gif"},52:function(e,t,a){e.exports=a(96)},57:function(e,t,a){},86:function(e,t){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(43),i=a.n(r),l=(a(57),a(51)),c=a(44),m=a(2),u=a(6),o=a(7),h=a(12),d=a(11),p=a(13),g=a(48),y=a(9),v=a(45),E=a.n(v),f=a(46),b=a.n(f),k=a(47),P=a.n(k),C=a(58).connect("http://192.168.1.11:4001",{secure:!0}),N=function(){function e(t,a,n){Object(u.a)(this,e),this.player1={username:"",IP:"",choice:"",deck:[]},this.player2={username:"",IP:"",choice:"",deck:[]},this.player3={username:"",IP:"",choice:"",deck:[]},this.player4={username:"",IP:"",choice:"",deck:[]},this.team={T1P1:"",T1P2:"",T2P1:"",T2P2:""},this.isTeamSet=!1,this.startDeck=[],this.pointsT1=0,this.pointsT2=0,this.rounds=[],this.currentPlayer="",this.currentRound=0,this.ident=t,this.isPrivate=a,this.maxPoints=n}return Object(o.a)(e,[{key:"send",value:function(){C.emit("add-game",this)}},{key:"populate",value:function(t){C.emit("get-game",this.ident),C.on("update-game",(function(a){return t(Object.assign(new e,a))}))}},{key:"onUpdate",value:function(t){C.on("update-game",(function(a){return t(Object.assign(new e,a))}))}},{key:"addMate",value:function(e){C.emit("add-mate",this.ident,e)}},{key:"getCurrentPlayer",value:function(e){C.emit("current-player",this.ident),C.on("current-player",(function(t){return e(t)}))}},{key:"setChoice",value:function(t,a,n,s){C.emit("set-choice",this.ident,s,n),C.on("update-game",(function(a){return t(Object.assign(new e,a))})),C.on("current-player",(function(e){return a(e)}))}},{key:"getChoice",value:function(){var e=[this.player1.choice,this.player2.choice,this.player3.choice,this.player4.choice].filter((function(e){return""!==e}));return"king"===this.mostRecurring(e)?{value:"king",title:"Tirage des rois"}:{value:"mates",title:"Choix de l'\xe9quipier"}}},{key:"mostRecurring",value:function(e){return e.sort((function(t,a){return e.filter((function(e){return e===t})).length-e.filter((function(e){return e===a})).length})).pop()}},{key:"setTeam",value:function(e,t,a,n){this.team.T1P1=e,this.team.T1P2=t,this.team.T2P1=a,this.team.T2P2=n,C.emit("set-team",this.ident,this.team)}},{key:"newBid",value:function(){C.emit("new-bid",this.ident,this.rounds)}},{key:"getLastBid",value:function(e){var t=null;return this.rounds[this.currentRound].bids.forEach((function(a){a.username===e&&(t=a)})),t}},{key:"passBid",value:function(){C.emit("pass-bid",this.ident)}},{key:"cardPlayed",value:function(e){C.emit("card-played",this.ident,e,this.rounds)}},{key:"cardPlayedFrom",value:function(e,t){C.emit("card-played-from",this.ident,e,t)}}],[{key:"getGameByIdent",value:function(t,a){C.emit("getGame",t),C.on("game",(function(t){return a(Object.assign(new e,t))}))}}]),e}(),S=(a(89),a(90),a(91),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(g.a,null,s.a.createElement(y.a,{exact:!0,path:"/",component:O}),s.a.createElement(y.a,{exact:!0,path:"/Contree",component:T}),s.a.createElement(y.a,{exact:!0,path:"/Contree/Start",component:j}),s.a.createElement(y.a,{exact:!0,path:"/Contree/Join/:ident",component:B}),s.a.createElement(y.a,{exact:!0,path:"/Contree/Play/:ident",component:w}))}}]),t}(n.Component)),O=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.querySelector("html").classList.add("white_bg")}},{key:"render",value:function(){return s.a.createElement("div",{className:"box menu"},s.a.createElement(x,null),s.a.createElement(L,{link:"/Contree",classTitle:"game",text:"Contr\xe9e"}))}}]),t}(s.a.Component),T=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.querySelector("html").classList.add("white_bg")}},{key:"render",value:function(){return s.a.createElement("div",{className:"box contree"},s.a.createElement(x,null),s.a.createElement("h2",null,"Contr\xe9e"),s.a.createElement("div",{className:"sep"}),s.a.createElement(R,{link:"/"}),s.a.createElement(L,{link:"/Contree/Start",classTitle:"create",text:"Cr\xe9er une partie"}),s.a.createElement(L,{link:"/Contree/Join",classTitle:"join",text:"Rejoindre une partie"}))}}]),t}(s.a.Component),j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={private:!0,maxPoints:400},a.handleInputChange=a.handleInputChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.title="Contr\xe9e - Cr\xe9ation",document.querySelector("html").classList.add("white_bg")}},{key:"handleInputChange",value:function(e){var t=e.target,a="private"===t.name&&t.checked?1:"private"!==t.name||t.checked?parseInt(50*Math.round(t.value/50)):0,n=t.name;this.setState(Object(c.a)({},n,a))}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.state.maxPoints>=400){var t=Math.random().toString(36).substring(2,10),a=new N(t,this.state.private,this.state.maxPoints);a.send(),this.props.history.replace("/Contree/Join/"+a.ident)}}},{key:"render",value:function(){return s.a.createElement("div",{className:"box contree start"},s.a.createElement(x,null),s.a.createElement("h2",null,"Contr\xe9e"),s.a.createElement("div",{className:"sep"}),s.a.createElement(R,{link:"/Contree"}),s.a.createElement("h3",null,"Cr\xe9ation de la partie"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"Partie priv\xe9e",s.a.createElement("input",{name:"private",type:"checkbox",checked:this.state.private,onChange:this.handleInputChange})),s.a.createElement("div",{className:"private"},"Si cette case est coch\xe9e, seuls les joueurs disposant du lien pourront rejoindre cette partie."),s.a.createElement("br",null),s.a.createElement("label",null,"Nombre max de points \xe0 atteindre",s.a.createElement("input",{name:"maxPoints",type:"number",min:"400",step:"50",value:this.state.maxPoints,onChange:this.handleInputChange})),s.a.createElement("input",{type:"submit",className:"button",value:"Cr\xe9er"})))}}]),t}(s.a.Component),B=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={ident:a.props.match.params.ident,game:new N(a.props.match.params.ident,null,null),username:"",currentPlayer:null,cantContinue:!0},a.handleLiveGame=a.handleLiveGame.bind(Object(m.a)(a)),a.handleCurrentPlayer=a.handleCurrentPlayer.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.title="Contr\xe9e - Partie #"+this.state.game.ident,document.querySelector("html").classList.add("white_bg"),this.state.game.populate(this.handleLiveGame),this.state.game.getCurrentPlayer(this.handleCurrentPlayer)}},{key:"handleLiveGame",value:function(e){this.setState((function(t){return{game:Object.assign(t.game,e)}})),this.state.game.player1&&this.state.game.player1.username&&this.state.game.player2&&this.state.game.player2.username&&this.state.game.player3&&this.state.game.player3.username&&this.state.game.player4&&this.state.game.player4.username&&(document.getElementById("buttonCapacity").classList.add("show"),document.getElementById("form").style.display="none",document.querySelector("h3").style.display="none"),this.state.game.ident!==this.state.ident&&this.props.history.replace("/Contree")}},{key:"handleCurrentPlayer",value:function(e){null!==e&&"POP"===this.props.history.action&&this.props.history.replace("/Contree/Play/"+this.state.game.ident)}},{key:"handleChange",value:function(e){var t=e.target.value.replace(/\s/g,"").toLowerCase();this.setState({username:t});var a=!1;(this.state.game.player1&&this.state.game.player1.username===t||this.state.game.player2&&this.state.game.player2.username===t||this.state.game.player3&&this.state.game.player3.username===t||this.state.game.player4&&this.state.game.player4.username===t)&&(a=!0),a?(document.getElementById("used").classList.add("show"),this.setState({cantContinue:!0})):t.length<5?(document.getElementById("used").classList.remove("show"),this.setState({cantContinue:!0})):(document.getElementById("used").classList.remove("show"),this.setState({cantContinue:!1}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.game.addMate(this.state.username),this.props.history.replace("/Contree/Play/"+this.state.ident)}},{key:"render",value:function(){return s.a.createElement("div",{className:"box contree username"},s.a.createElement(x,null),s.a.createElement("h2",null,"Contr\xe9e"),s.a.createElement("div",{className:"sep"}),s.a.createElement("h3",null,"Joindre la partie #",this.state.ident),s.a.createElement("div",{className:"sep"}),s.a.createElement("h3",null,"Nom d'utilisateur"),s.a.createElement("form",{id:"form",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),s.a.createElement("div",{id:"used"},s.a.createElement("span",null,this.state.username)," est d\xe9j\xe0 utilis\xe9"),s.a.createElement("input",{type:"submit",id:"buttonStart",className:"button",value:"Commencer",disabled:this.state.cantContinue})),s.a.createElement("span",{id:"buttonCapacity"},s.a.createElement(R,{link:"/Contree"}),s.a.createElement("div",{className:"button start"},"Cette partie est d\xe9j\xe0 pleine, vous ne pouvez pas la rejoindre")))}}]),t}(s.a.Component),w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={ident:a.props.match.params.ident,game:new N(a.props.match.params.ident,null,null),currentPlayer:void 0},a.handleLiveGame=a.handleLiveGame.bind(Object(m.a)(a)),a.handleCurrentPlayer=a.handleCurrentPlayer.bind(Object(m.a)(a)),a.getMate=a.getMate.bind(Object(m.a)(a)),a.chooseKing=a.chooseKing.bind(Object(m.a)(a)),a.chooseMate=a.chooseMate.bind(Object(m.a)(a)),a.setTeam=a.setTeam.bind(Object(m.a)(a)),a.handleBid=a.handleBid.bind(Object(m.a)(a)),a.handlePassBid=a.handlePassBid.bind(Object(m.a)(a)),a.handleCard=a.handleCard.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.state.game.populate(this.handleLiveGame),this.state.game.onUpdate(this.handleLiveGame),this.state.game.getCurrentPlayer(this.handleCurrentPlayer),document.title="Contr\xe9e - Partie #"+this.state.game.ident,document.querySelector("html").classList.remove("white_bg"),document.querySelector("html").classList.add("black_bg"),document.querySelector(".logo img").setAttribute("src",b.a)}},{key:"handleLiveGame",value:function(e){console.log(e),e.ident===this.state.ident&&(e.team=JSON.parse(e.team),e.isTeamSet=JSON.parse(e.isTeamSet),e.player1=JSON.parse(e.player1),e.player2=JSON.parse(e.player2),e.player3=JSON.parse(e.player3),e.player4=JSON.parse(e.player4),e.startDeck=JSON.parse(e.startDeck),e.rounds=JSON.parse(e.rounds),this.setState((function(t){return{game:Object.assign(t.game,e)}}))),this.state.game.ident!==this.state.ident&&this.props.history.replace("/Contree")}},{key:"handleCurrentPlayer",value:function(e){this.setState((function(t,a){return{currentPlayer:e}})),this.checkIfFull(),null===this.state.currentPlayer&&"POP"===this.props.history.action&&this.props.history.replace("/Contree/Join/"+this.state.game.ident)}},{key:"checkIfFull",value:function(){this.state.game.player1&&this.state.game.player2&&this.state.game.player3&&this.state.game.player4&&!this.state.game.isTeamSet&&(document.querySelector("#wait h2")&&(document.querySelector("#wait h2").textContent="Choix des \xe9quipes"),!this.state.currentPlayer.choice&&document.querySelector("#choice")&&(document.querySelector("#choice").style.display="block"))}},{key:"getMate",value:function(e){if(null!==this.state.currentPlayer&&void 0!==this.state.currentPlayer&&"me"===e)return this.player(this.state.currentPlayer.username);if(null!==this.state.currentPlayer&&void 0!==this.state.currentPlayer){var t,a=0,n=this.state.currentPlayer.username;if(this.state.game.team.T1P1&&this.state.game.team.T1P1===n?(a=1,t=this.state.game.team.T1P2):this.state.game.team.T1P2&&this.state.game.team.T1P2===n?(a=1,t=this.state.game.team.T1P1):this.state.game.team.T2P1&&this.state.game.team.T2P1===n?(a=2,t=this.state.game.team.T2P2):this.state.game.team.T2P2&&this.state.game.team.T2P2===n&&(a=2,t=this.state.game.team.T2P1),t&&"mate"===e)return this.player(t);if(2===a||"first"!==e&&"second"!==e){if(1!==a&&("first"===e||"second"===e)){if(this.state.game.team.T1P1&&this.state.game.team.T1P1!==n&&"first"===e)return this.player(this.state.game.team.T1P1);if(this.state.game.team.T1P2&&this.state.game.team.T1P2!==n&&"second"===e)return this.player(this.state.game.team.T1P2)}}else{if(this.state.game.team.T2P1&&this.state.game.team.T2P1!==n&&"first"===e)return this.player(this.state.game.team.T2P1);if(this.state.game.team.T2P2&&this.state.game.team.T2P2!==n&&"second"===e)return this.player(this.state.game.team.T2P2)}}return{username:"",IP:null,choice:null}}},{key:"player",value:function(e){return this.state.game.player1&&this.state.game.player1.username===e?this.state.game.player1:this.state.game.player2&&this.state.game.player2.username===e?this.state.game.player2:this.state.game.player3&&this.state.game.player3.username===e?this.state.game.player3:this.state.game.player4&&this.state.game.player4.username===e?this.state.game.player4:void 0}},{key:"chooseKing",value:function(){this.state.game.setChoice(this.handleLiveGame,this.handleCurrentPlayer,"king",this.state.currentPlayer.username),document.querySelector("#choices").remove()}},{key:"chooseMate",value:function(){this.state.game.setChoice(this.handleLiveGame,this.handleCurrentPlayer,"mates",this.state.currentPlayer.username),document.querySelector("#choices").remove()}},{key:"watingView",value:function(){if(this.state.game.player1&&this.state.game.player1.choice&&this.state.game.player2&&this.state.game.player2.choice&&this.state.game.player3&&this.state.game.player3.choice&&this.state.game.player4&&this.state.game.player4.choice||this.state.game.isTeamSet)return"";var e=this.getMate("me"),t=this.getMate("mate"),a=this.getMate("first"),n=this.getMate("second"),r=null,i="En attente de tous les joueurs ...";return e&&!e.choice&&t.IP&&a.IP&&n.IP&&(r=s.a.createElement("div",{id:"choices"},s.a.createElement(M,{classTitle:"first",event:this.chooseKing,text:"Tirer les rois"}),s.a.createElement(M,{classTitle:"",event:this.chooseMate,text:"Choisir son \xe9quipier"})),i="Choix d'attribution des \xe9quipes"),e?s.a.createElement("div",{id:"wait"},s.a.createElement("h2",null,i),s.a.createElement("div",{className:"players"},s.a.createElement("div",{className:"player"},s.a.createElement("div",{className:"avatar"},s.a.createElement(J,{username:e.username})),s.a.createElement("p",null,"Joueur 1 (moi)"),s.a.createElement("p",{className:"username"},e.username),s.a.createElement(H,{user:e})),s.a.createElement("div",{className:"player"},s.a.createElement("div",{className:"avatar"},s.a.createElement(J,{username:t.username})),s.a.createElement("p",null,"Joueur 2"),s.a.createElement("p",{className:"username"},t.username),s.a.createElement(H,{user:t})),s.a.createElement("div",{className:"player"},s.a.createElement("div",{className:"avatar"},s.a.createElement(J,{username:a.username})),s.a.createElement("p",null,"Joueur 3"),s.a.createElement("p",{className:"username"},a.username),s.a.createElement(H,{user:a})),s.a.createElement("div",{className:"player"},s.a.createElement("div",{className:"avatar"},s.a.createElement(J,{username:n.username})),s.a.createElement("p",null,"Joueur 4"),s.a.createElement("p",{className:"username"},n.username),s.a.createElement(H,{user:n}))),r):void 0}},{key:"choiceView",value:function(){if(this.state.game.player1&&this.state.game.player1.choice&&this.state.game.player2&&this.state.game.player2.choice&&this.state.game.player3&&this.state.game.player3.choice&&this.state.game.player4&&this.state.game.player4.choice&&!this.state.game.isTeamSet){var e,t={value:"mates",title:"S\xe9l\xe9ctionnez votre \xe9quipier"},a=this.getMate("me"),n=this.getMate("mate"),r=this.getMate("first"),i=this.getMate("second");return"king"===t.value&&(e=this.choiceKingScene(a,n,r,i)),"mates"===t.value&&(e=this.choiceMatesScene(a,n,r,i)),s.a.createElement("div",{id:"choice"},s.a.createElement("h2",null,t.title),e)}return""}},{key:"choiceKingScene",value:function(e,t,a,n){return s.a.createElement("div",{id:"king_scene"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"box_player"},s.a.createElement("div",{className:"players"},s.a.createElement("p",null,"\xc9quipe 1"),s.a.createElement(I,{user:e}),s.a.createElement(I,{user:t}))),s.a.createElement("td",{className:"box_player"},s.a.createElement("div",{className:"players"},s.a.createElement("p",null,"\xc9quipe 2"),s.a.createElement(I,{user:a}),s.a.createElement(I,{user:n})))))))}},{key:"setTeam",value:function(e,t,a,n){this.state.game.setTeam(e,t,a,n)}},{key:"choiceMatesScene",value:function(e,t,a,n){var r=this;return s.a.createElement("div",{id:"mates_scene"},s.a.createElement("div",{className:"players"},s.a.createElement("button",{onClick:function(){r.setTeam(e.username,t.username,a.username,n.username)}},s.a.createElement(I,{user:t})),s.a.createElement("button",{onClick:function(){r.setTeam(e.username,a.username,t.username,n.username)}},s.a.createElement(I,{user:a})),s.a.createElement("button",{onClick:function(){r.setTeam(e.username,n.username,a.username,t.username)}},s.a.createElement(I,{user:n}))))}},{key:"gameView",value:function(){if(!this.state.game.player1||!this.state.game.player2||!this.state.game.player3||!this.state.game.player4||!this.state.game.isTeamSet)return"";var e=this.getMate("me"),t=this.getMate("mate"),a=this.getMate("first"),n=this.getMate("second"),r=this.getPoints("mine",e.username),i=Object(l.a)(r,2),c=i[0],m=i[1];return this.state.game.rounds[this.state.game.currentRound].isBidOver||(e.lastBid=this.state.game.getLastBid(e.username),t.lastBid=this.state.game.getLastBid(t.username),a.lastBid=this.state.game.getLastBid(a.username),n.lastBid=this.state.game.getLastBid(n.username)),console.log(this.state.game.rounds[this.state.game.currentRound].folds[this.state.game.rounds[this.state.game.currentRound].currentFold]),s.a.createElement("div",{id:"game_view",className:this.state.game.rounds[this.state.game.currentRound].currentSpeaker!==e.username||this.state.game.rounds[this.state.game.currentRound].isBidOver?this.state.game.rounds[this.state.game.currentRound].currentSpeaker===e.username&&this.state.game.rounds[this.state.game.currentRound].isBidOver?"me_round":"":"me_bid"},s.a.createElement(V,{me:e.username,mate:t.username,adv1:a.username,adv2:n.username,myPoints:c,theirPoints:m,current:this.state.game.currentPlayer,teamSpeaker:this.state.game.rounds[this.state.game.currentRound].teamSpeaker,teamSpeakerBid:{suit:this.state.game.rounds[this.state.game.currentRound].asset.suit,points:this.state.game.rounds[this.state.game.currentRound].asset.points}}),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null),s.a.createElement("td",{className:this.state.game.rounds[this.state.game.currentRound].currentSpeaker===t.username?"current":""},s.a.createElement(I,{user:t}),t.lastBid?s.a.createElement(A,{bid:t.lastBid}):""),s.a.createElement("td",null)),s.a.createElement("tr",null,s.a.createElement("td",{className:this.state.game.rounds[this.state.game.currentRound].currentSpeaker===a.username?"current":""},a.lastBid?s.a.createElement(z,{bid:a.lastBid}):"",s.a.createElement(I,{user:a})),s.a.createElement("td",{className:"center"},this.state.game.rounds[this.state.game.currentRound].isBidOver?s.a.createElement(W,{fold:this.state.game.rounds[this.state.game.currentRound].folds[this.state.game.rounds[this.state.game.currentRound].currentFold]}):s.a.createElement("h2",{className:"fake_card"},"Choix de l'atout")),s.a.createElement("td",{className:this.state.game.rounds[this.state.game.currentRound].currentSpeaker===n.username?"current":""},n.lastBid?s.a.createElement(z,{bid:n.lastBid}):"",s.a.createElement(I,{user:n}))))),this.state.game.rounds[this.state.game.currentRound].isBidOver||this.state.game.rounds[this.state.game.currentRound].currentSpeaker!==e.username?"":s.a.createElement(F,{min:this.state.game.rounds[this.state.game.currentRound].bids.length>0?this.state.game.rounds[this.state.game.currentRound].bids[this.state.game.rounds[this.state.game.currentRound].bids.length-1].points:70,handleBid:this.handleBid,handlePass:this.handlePassBid}),e.lastBid?s.a.createElement(z,{bid:e.lastBid}):"",s.a.createElement(G,{handleClick:this.handleCard,cards:e.deck}))}},{key:"getPoints",value:function(e,t){return"mine"===e?t===this.state.game.team.T1P1||t===this.state.game.team.T1P2?[this.state.game.pointsT1,this.state.game.pointsT2]:[this.state.game.pointsT2,this.state.game.pointsT1]:[0,0]}},{key:"handleBid",value:function(e){var t=document.querySelector(".bid .colors input[name=color]:checked");t&&this.state.game.rounds[this.state.game.currentRound].currentSpeaker===this.state.currentPlayer.username&&(this.state.game.rounds[this.state.game.currentRound].bids.push({points:e,suit:t.value,username:this.state.currentPlayer.username}),this.state.game.newBid(),console.log(e,t.value),document.querySelector(".me_bid").classList.remove("me_bid"),function(e,t,a){var n=document.querySelector(e);n.classList.add("animated",t),n.addEventListener("animationend",(function e(){n.classList.remove("animated",t),n.removeEventListener("animationend",e),"function"===typeof a&&a()}))}(".bid","fadeOutDown",(function(){document.querySelector(".bid").remove()})))}},{key:"handlePassBid",value:function(){this.state.game.rounds[this.state.game.currentRound].currentSpeaker===this.state.currentPlayer.username&&this.state.game.passBid()}},{key:"handleCard",value:function(e){this.state.game.cardPlayedFrom(e,this.state.currentPlayer.username)}},{key:"render",value:function(){return console.log("JEU",this.state.game),s.a.createElement("div",{className:"box contree play"},s.a.createElement(x,null),s.a.createElement("h2",null,"Contr\xe9e - Partie #",this.state.game.ident),s.a.createElement("div",{className:"sep"}),s.a.createElement(R,{link:"/Contree/Join"}),s.a.createElement(q,{link:"/Contree/Join/".concat(this.state.game.ident)}),this.watingView(),this.choiceView(),this.gameView())}}]),t}(s.a.Component),x=function(){return s.a.createElement("div",{className:"logo"},s.a.createElement("div",null,s.a.createElement("a",{href:"/"},s.a.createElement("img",{src:E.a,alt:"logo"}))))},L=function(e){var t=e.link,a=e.classTitle,n=e.text;return s.a.createElement("a",{href:t},s.a.createElement("div",{className:"button ".concat(a)},n))},M=function(e){var t=e.classTitle,a=e.event,n=e.text;return s.a.createElement("button",{onClick:a,className:"button choice ".concat(t)},n)},R=function(e){var t=e.link;return s.a.createElement("a",{href:t,className:"back"},s.a.createElement("div",null,s.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Retour"))},q=function(e){var t=e.link;return s.a.createElement("div",{className:"shareInput"},"Inviter ",s.a.createElement("i",{className:"fas fa-share-square"})," ",s.a.createElement("input",{type:"text",value:"http://"+window.location.hostname+"".concat(t),disabled:!0}))},I=function(e){var t=e.user;return s.a.createElement("div",{className:"player"},s.a.createElement("div",{className:"avatar"},s.a.createElement(J,{username:t.username})),s.a.createElement("p",{className:"username"},t.username))},J=function(e){var t=e.username;return t?s.a.createElement("img",{alt:"Avatar de ".concat(t),src:"https://api.adorable.io/avatars/285/".concat(t)}):s.a.createElement("img",{className:"load",alt:"En attente",src:P.a})},_=function(e){var t=e.handleClick,a=e.card;return a?s.a.createElement("button",{onClick:function(){return t(a)},className:"card ".concat(a.suit)},s.a.createElement("div",{className:"topValue"},a.value),s.a.createElement("div",{className:"bottomValue"},a.value)):""},G=function(e){var t=e.handleClick,a=e.cards;return a?s.a.createElement("ul",{className:"deck"},s.a.createElement(D,{handleClick:t,cards:a})):null},D=function(e){var t=e.handleClick;return e.cards.map((function(e){return s.a.createElement("li",null,s.a.createElement(_,{handleClick:t,card:e}))}))},V=function(e){var t=e.me,a=e.mate,n=e.adv1,r=e.adv2,i=e.myPoints,l=e.theirPoints,c=(e.current,e.teamSpeaker),m=e.teamSpeakerBid;return s.a.createElement("div",{className:"teams"},s.a.createElement("div",{className:"team"},t," - ",a," ",s.a.createElement("span",null,i)),s.a.createElement("div",{className:"team"},n," - ",r,s.a.createElement("span",null,l)),c>0?s.a.createElement(A,{bid:m,classNameMore:"T".concat(c)}):"")},F=function(e){var t=e.min,a=e.handleBid,n=e.handlePass;return s.a.createElement("div",{className:"bid"},s.a.createElement("h2",null,"\xc0 votre tour de parler"),s.a.createElement(U,null),s.a.createElement("div",{className:"points"},s.a.createElement(K,{min:t,handleBid:a}),s.a.createElement("button",{className:"pass",onClick:n},"Passer")))},K=function(e){var t=e.min,a=e.handleBid;return[80,90,100,110,120,130,140,150,160,170,180].map((function(e){return e>t?s.a.createElement("button",{onClick:function(){return a(e)}},e):""}))},U=function(){return s.a.createElement("div",{className:"colors"},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"color",value:"trefle"}),s.a.createElement("div",{className:"trefle"})),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"color",value:"pique"}),s.a.createElement("div",{className:"pique"})),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"color",value:"carreau"}),s.a.createElement("div",{className:"carreau"})),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"color",value:"coeur"}),s.a.createElement("div",{className:"coeur"})))},z=function(e){var t=e.bid;return s.a.createElement("div",{className:"lastBid ".concat(t.suit," fadeInUp animated")},t.points)},A=function(e){var t=e.bid,a=e.classNameMore;return s.a.createElement("div",{className:"lastBid ".concat(t.suit," mate ").concat(a," fadeInDown animated")},t.points)},W=function(e){var t=e.fold;return t.length>0?s.a.createElement("div",{className:"fold"},s.a.createElement("ul",null,s.a.createElement($,{cards:t}))):s.a.createElement("div",{className:"fake_card"})},$=function(e){return e.cards.map((function(e){return s.a.createElement("li",null,s.a.createElement(_,{handleClick:null,card:e.card}))}))};function H(e){var t=e.user;return"king"===t.choice?s.a.createElement("div",{className:"choose"},"Veut tirer les rois"):"mates"===t.choice?s.a.createElement("div",{className:"choose"},"Veut chosir"):null}var Q=S;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.08cf42c8.chunk.js.map